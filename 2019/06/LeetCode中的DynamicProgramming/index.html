<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="LeetCode 中的 Dynamic Programming总结"><meta name="keywords" content="LeetCode分类总结"><meta name="author" content="Dubliner"><meta name="copyright" content="Dubliner"><title>LeetCode 中的 Dynamic Programming总结 | Dubliner</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script><!-- hexo-inject:begin --><!-- hexo-inject:end -->var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><!-- hexo-inject:begin --><!-- hexo-inject:end --></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#简介"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字符串匹配"><span class="toc-number">2.</span> <span class="toc-text">字符串匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Regular-Expression-Matching"><span class="toc-number">2.1.</span> <span class="toc-text">Regular Expression Matching</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#初始状态"><span class="toc-number">2.1.1.</span> <span class="toc-text">初始状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#状态转移方程"><span class="toc-number">2.1.2.</span> <span class="toc-text">状态转移方程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#自下而上的DP代码"><span class="toc-number">2.1.3.</span> <span class="toc-text">自下而上的DP代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#自上而下的递归代码"><span class="toc-number">2.1.4.</span> <span class="toc-text">自上而下的递归代码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Interleaving-String"><span class="toc-number">2.2.</span> <span class="toc-text">Interleaving String</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#初始状态-1"><span class="toc-number">2.2.1.</span> <span class="toc-text">初始状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#状态转移方程-1"><span class="toc-number">2.2.2.</span> <span class="toc-text">状态转移方程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DP代码"><span class="toc-number">2.2.3.</span> <span class="toc-text">DP代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DFS代码"><span class="toc-number">2.2.4.</span> <span class="toc-text">DFS代码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Edit-Distance"><span class="toc-number">2.3.</span> <span class="toc-text">Edit Distance</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#初始化状态"><span class="toc-number">2.3.1.</span> <span class="toc-text">初始化状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#状态转移方程-2"><span class="toc-number">2.3.2.</span> <span class="toc-text">状态转移方程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#代码"><span class="toc-number">2.3.3.</span> <span class="toc-text">代码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#线性结构上的动态规划"><span class="toc-number">3.</span> <span class="toc-text">线性结构上的动态规划</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Decode-Ways"><span class="toc-number">3.1.</span> <span class="toc-text">Decode Ways</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#标准dp代码"><span class="toc-number">3.1.1.</span> <span class="toc-text">标准dp代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#优化后代码"><span class="toc-number">3.1.2.</span> <span class="toc-text">优化后代码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Paint-Fence"><span class="toc-number">3.2.</span> <span class="toc-text">Paint Fence</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#House-Robber系列"><span class="toc-number">3.3.</span> <span class="toc-text">House Robber系列</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#House-Robber"><span class="toc-number">3.3.1.</span> <span class="toc-text">House Robber</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#House-Robber-II"><span class="toc-number">3.3.2.</span> <span class="toc-text">House Robber II</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Paint-House系列"><span class="toc-number">3.4.</span> <span class="toc-text">Paint House系列</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Paint-House"><span class="toc-number">3.4.1.</span> <span class="toc-text">Paint House</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Paint-House-II"><span class="toc-number">3.4.2.</span> <span class="toc-text">Paint House II</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Coin-Change"><span class="toc-number">3.5.</span> <span class="toc-text">Coin Change</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#股票系列"><span class="toc-number">3.6.</span> <span class="toc-text">股票系列</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Best-Time-to-Buy-and-Sell-Stock"><span class="toc-number">3.6.1.</span> <span class="toc-text">Best Time to Buy and Sell Stock</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Best-Time-to-Buy-and-Sell-Stock-II"><span class="toc-number">3.6.2.</span> <span class="toc-text">Best Time to Buy and Sell Stock II</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Best-Time-to-Buy-and-Sell-Stock-III"><span class="toc-number">3.6.3.</span> <span class="toc-text">Best Time to Buy and Sell Stock III</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Best-Time-to-Buy-and-Sell-Stock-IV"><span class="toc-number">3.6.4.</span> <span class="toc-text">Best Time to Buy and Sell Stock IV</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Best-Time-to-Buy-and-Sell-Stock-with-Cooldown"><span class="toc-number">3.6.5.</span> <span class="toc-text">Best Time to Buy and Sell Stock with Cooldown</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Best-Time-to-Buy-and-Sell-Stock-with-Transaction-Fee"><span class="toc-number">3.6.6.</span> <span class="toc-text">Best Time to Buy and Sell Stock with Transaction Fee</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二维数组动态规划"><span class="toc-number">4.</span> <span class="toc-text">二维数组动态规划</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Maximal-Square"><span class="toc-number">4.1.</span> <span class="toc-text">Maximal Square</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dungeon-Game"><span class="toc-number">4.2.</span> <span class="toc-text">Dungeon Game</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#初始状态-2"><span class="toc-number">4.2.1.</span> <span class="toc-text">初始状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#状态转移方程-3"><span class="toc-number">4.2.2.</span> <span class="toc-text">状态转移方程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#自下而上的DP代码-1"><span class="toc-number">4.2.3.</span> <span class="toc-text">自下而上的DP代码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Minimum-Path-Sum"><span class="toc-number">4.3.</span> <span class="toc-text">Minimum Path Sum</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#复杂难题"><span class="toc-number">5.</span> <span class="toc-text">复杂难题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Minimax极小化极大算法"><span class="toc-number">5.1.</span> <span class="toc-text">Minimax极小化极大算法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#初始状态-3"><span class="toc-number">5.1.1.</span> <span class="toc-text">初始状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#状态转移方程-4"><span class="toc-number">5.1.2.</span> <span class="toc-text">状态转移方程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Memorization递归代码"><span class="toc-number">5.1.3.</span> <span class="toc-text">Memorization递归代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DP代码-1"><span class="toc-number">5.1.4.</span> <span class="toc-text">DP代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#时间复杂度分析"><span class="toc-number">5.1.5.</span> <span class="toc-text">时间复杂度分析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Burst-Balloons"><span class="toc-number">5.2.</span> <span class="toc-text">Burst Balloons</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#初始状态-4"><span class="toc-number">5.2.1.</span> <span class="toc-text">初始状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#状态转移方程方程"><span class="toc-number">5.2.2.</span> <span class="toc-text">状态转移方程方程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DP代码-2"><span class="toc-number">5.2.3.</span> <span class="toc-text">DP代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Memorization递归代码-1"><span class="toc-number">5.2.4.</span> <span class="toc-text">Memorization递归代码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Max-Sum-of-Rectangle-No-Larger-Than-K"><span class="toc-number">5.3.</span> <span class="toc-text">Max Sum of Rectangle No Larger Than K</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Maximum-Sum-of-Subarray-Close-to-K"><span class="toc-number">5.3.1.</span> <span class="toc-text">Maximum Sum of Subarray Close to K</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#代码-1"><span class="toc-number">5.3.2.</span> <span class="toc-text">代码</span></a></li></ol></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Dubliner</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">7</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">4</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">11</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Dubliner</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="post-info"><div id="post-title">LeetCode 中的 Dynamic Programming总结</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-06-07</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/LeetCode/">LeetCode</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/LeetCode/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/LeetCode/Algorithm/Dynamic-Programming/">Dynamic Programming</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><h2 id="字符串匹配"><a href="#字符串匹配" class="headerlink" title="字符串匹配"></a>字符串匹配</h2><h3 id="Regular-Expression-Matching"><a href="#Regular-Expression-Matching" class="headerlink" title="Regular Expression Matching"></a>Regular Expression Matching</h3><p><a href="https://leetcode.com/problems/regular-expression-matching/" target="_blank" rel="noopener">10. Regular Expression Matching</a></p>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><h4 id="初始状态"><a href="#初始状态" class="headerlink" title="初始状态"></a>初始状态</h4><p><img src="/2019/06/LeetCode中的DynamicProgramming/初始化状态.png" alt="初始化状态"></p>
<p>因为除了<code>[0][0]</code>之外第一列默认的其他位置必然是<code>false</code>，所以我们只需要对第一行进行初始化，这个初始化需要注意题中默认了<code>*</code>不会出现在第一位，所以才没有越界的问题。</p>
<p><code>if (p.charAt(i)==&#39;*&#39; &amp;&amp; dp[0][i-1]) {dp[0][i+1] = true;}</code></p>
<h4 id="状态转移方程"><a href="#状态转移方程" class="headerlink" title="状态转移方程"></a>状态转移方程</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>, If p.charAt(j) == s.charAt(i) :  dp[i][j] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>];</span><br><span class="line"><span class="number">2</span>, If p.charAt(j) == <span class="string">'.'</span> : dp[i][j] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>];</span><br><span class="line"><span class="number">3</span>, If p.charAt(j) == <span class="string">'*'</span>: </span><br><span class="line">   here are two sub conditions:</span><br><span class="line">               <span class="number">1</span>   <span class="keyword">if</span> p.charAt(j-<span class="number">1</span>) != s.charAt(i) : dp[i][j] = dp[i][j-<span class="number">2</span>]  <span class="comment">//in this case, a* only counts as empty</span></span><br><span class="line">               <span class="number">2</span>   <span class="keyword">if</span> p.charAt(i-<span class="number">1</span>) == s.charAt(i) or p.charAt(i-<span class="number">1</span>) == <span class="string">'.'</span>:</span><br><span class="line">                              dp[i][j] = dp[i-<span class="number">1</span>][j]    <span class="comment">//in this case, a* counts as multiple a </span></span><br><span class="line">                           or dp[i][j] = dp[i][j-<span class="number">1</span>]   <span class="comment">// in this case, a* counts as single a</span></span><br><span class="line">                           or dp[i][j] = dp[i][j-<span class="number">2</span>]   <span class="comment">// in this case, a* counts as empty</span></span><br></pre></td></tr></table></figure>
<p><strong>几个比较容易困惑的点</strong></p>
<p><img src="/2019/06/LeetCode中的DynamicProgramming/10.png" alt="10"></p>
<h4 id="自下而上的DP代码"><a href="#自下而上的DP代码" class="headerlink" title="自下而上的DP代码"></a>自下而上的DP代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(String s, String p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s== <span class="keyword">null</span> || p == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[s.length()+<span class="number">1</span>][p.length()+<span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; p.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (p.charAt(i)==<span class="string">'*'</span> &amp;&amp; dp[<span class="number">0</span>][i-<span class="number">1</span>]) &#123;</span><br><span class="line">                dp[<span class="number">0</span>][i+<span class="number">1</span>] = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j&lt;p.length(); j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (s.charAt(i) == p.charAt(j) || p.charAt(j) == <span class="string">'.'</span>) &#123;</span><br><span class="line">                    dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = dp[i][j];</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> (p.charAt(j) == <span class="string">'*'</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (s.charAt(i) != p.charAt(j-<span class="number">1</span>) &amp;&amp; p.charAt(j-<span class="number">1</span>) != <span class="string">'.'</span>) &#123;</span><br><span class="line">                        dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = dp[i+<span class="number">1</span>][j-<span class="number">1</span>];</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = (dp[i][j+<span class="number">1</span>] || dp[i+<span class="number">1</span>][j] || dp[i+<span class="number">1</span>][j-<span class="number">1</span>]);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[s.length()][p.length()];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="自上而下的递归代码"><a href="#自上而下的递归代码" class="headerlink" title="自上而下的递归代码"></a>自上而下的递归代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(String s, String p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(p.length() ==<span class="number">0</span>) <span class="keyword">return</span> s.length()==<span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">       <span class="keyword">if</span> (p.length() &gt; <span class="number">1</span> &amp;&amp; p.charAt(<span class="number">1</span>) == <span class="string">'*'</span>) &#123;  <span class="comment">// second char is '*'</span></span><br><span class="line">        <span class="keyword">if</span> (isMatch(s, p.substring(<span class="number">2</span>))) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">            <span class="keyword">if</span>(s.length() &gt; <span class="number">0</span> &amp;&amp; (s.charAt(<span class="number">0</span>) == p.charAt(<span class="number">0</span>) || p.charAt(<span class="number">0</span>) == <span class="string">'.'</span>))&#123;</span><br><span class="line">               <span class="keyword">return</span> isMatch(s.substring(<span class="number">1</span>),p);</span><br><span class="line">                    </span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (s.length() &gt; <span class="number">0</span> &amp;&amp; (s.charAt(<span class="number">0</span>) == p.charAt(<span class="number">0</span>) || p.charAt(<span class="number">0</span>) == <span class="string">'.'</span>))&#123;</span><br><span class="line">                <span class="keyword">return</span> isMatch(s.substring(<span class="number">1</span>),p.substring(<span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="Interleaving-String"><a href="#Interleaving-String" class="headerlink" title="Interleaving String"></a>Interleaving String</h3><p><a href="https://leetcode.com/problems/interleaving-string/" target="_blank" rel="noopener">97. Interleaving String</a></p>
<p><code>dp[i][j]</code> 在这里的含义是：我们在<code>String a</code> 中取<code>i</code>个字符串，在<code>String b</code> 中取<code>j</code> 个字符串，是否可以匹配<code>String c</code>中的<code>i+j</code>个字符串。</p>
<h4 id="初始状态-1"><a href="#初始状态-1" class="headerlink" title="初始状态"></a>初始状态</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  Ø d b b c a</span><br><span class="line">Ø T F F F F F</span><br><span class="line">a T </span><br><span class="line">a T </span><br><span class="line">b F </span><br><span class="line">c F </span><br><span class="line">c F</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">for</span> (<span class="keyword">int</span> i =<span class="number">1</span>; i&lt;=s1.length(); i++) &#123;</span><br><span class="line">           dp[i][<span class="number">0</span>] = (dp[i-<span class="number">1</span>][<span class="number">0</span>] &amp;&amp; s1.charAt(i-<span class="number">1</span>) == s3.charAt(i-<span class="number">1</span>));</span><br><span class="line">       &#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i =<span class="number">1</span>; i&lt;=s2.length(); i++) &#123;</span><br><span class="line">           dp[<span class="number">0</span>][i] = (dp[<span class="number">0</span>][i-<span class="number">1</span>] &amp;&amp; s2.charAt(i-<span class="number">1</span>) == s3.charAt(i-<span class="number">1</span>));</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
<h4 id="状态转移方程-1"><a href="#状态转移方程-1" class="headerlink" title="状态转移方程"></a>状态转移方程</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  Ø d b b c a</span><br><span class="line">Ø T F F F F F</span><br><span class="line">a T F F F F F</span><br><span class="line">a T T T T T F</span><br><span class="line">b F T T F T F</span><br><span class="line">c F F T T T T</span><br><span class="line">c F F F T F T</span><br></pre></td></tr></table></figure>
<script type="math/tex; mode=display">dp[i][j] =\begin{cases}dp[i - 1][j] \bigwedge 1[i - 1] == s3[i - 1 + j]\\dp[i][j - 1] \bigwedge  s2[j - 1] == s3[j - 1 + i]\end{cases}</script><h4 id="DP代码"><a href="#DP代码" class="headerlink" title="DP代码"></a>DP代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isInterleave</span><span class="params">(String s1, String s2, String s3)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(s1.length() + s2.length() != s3.length()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[s1.length()+<span class="number">1</span>][s2.length()+<span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i =<span class="number">1</span>; i&lt;=s1.length(); i++) &#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = (dp[i-<span class="number">1</span>][<span class="number">0</span>] &amp;&amp; s1.charAt(i-<span class="number">1</span>) == s3.charAt(i-<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i =<span class="number">1</span>; i&lt;=s2.length(); i++) &#123;</span><br><span class="line">            dp[<span class="number">0</span>][i] = (dp[<span class="number">0</span>][i-<span class="number">1</span>] &amp;&amp; s2.charAt(i-<span class="number">1</span>) == s3.charAt(i-<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i =<span class="number">1</span>; i&lt;=s1.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j =<span class="number">1</span>; j&lt;=s2.length(); j++) &#123;</span><br><span class="line">                dp[i][j] = ((dp[i-<span class="number">1</span>][j] &amp;&amp; s1.charAt(i-<span class="number">1</span>)==s3.charAt(i+j-<span class="number">1</span>)) || (dp[i][j-<span class="number">1</span>] &amp;&amp; s2.charAt(j-<span class="number">1</span>) == s3.charAt(i+j-<span class="number">1</span>)));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[s1.length()][s2.length()];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="DFS代码"><a href="#DFS代码" class="headerlink" title="DFS代码"></a>DFS代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isInterleave</span><span class="params">(String s1, String s2, String s3)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] a = s1.toCharArray();</span><br><span class="line">        <span class="keyword">char</span>[] b = s2.toCharArray();</span><br><span class="line">        <span class="keyword">char</span>[] c = s3.toCharArray();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (s1.length() + s2.length() != s3.length()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> helper(a,b,c,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">new</span> <span class="keyword">boolean</span>[s1.length()+<span class="number">1</span>][s2.length()+<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">helper</span><span class="params">(<span class="keyword">char</span>[] a, <span class="keyword">char</span>[] b, <span class="keyword">char</span>[] c, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> k,<span class="keyword">boolean</span>[][] invalid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (invalid[i][j]) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (k == c.length) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">boolean</span> valid = i&lt;a.length &amp;&amp; a[i] == c[k] &amp;&amp; helper(a,b,c,i+<span class="number">1</span>,j,k+<span class="number">1</span>,invalid) ||</span><br><span class="line">                        j &lt; b.length &amp;&amp; b[j] == c[k] &amp;&amp; helper(a,b,c,i,j+<span class="number">1</span>,k+<span class="number">1</span>,invalid);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(!valid) invalid[i][j] = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> valid;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Edit-Distance"><a href="#Edit-Distance" class="headerlink" title="Edit Distance"></a>Edit Distance</h3><h4 id="初始化状态"><a href="#初始化状态" class="headerlink" title="初始化状态"></a>初始化状态</h4><p><code>dp[i][j]</code> 表示从 word1 的前<code>i</code>个字符转换到 word2 的前<code>j</code>个字符所需要的步骤。那我们可以先给这个二维数组dp的第一行第一列赋值，因为第一行和第一列对应的总有一个字符串是空串，于是转换步骤完全是另一个字符串的长度。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> Ø a b c d</span><br><span class="line">Ø <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span></span><br><span class="line">b <span class="number">1</span></span><br><span class="line">b <span class="number">2</span> </span><br><span class="line">c <span class="number">3</span></span><br></pre></td></tr></table></figure>
<h4 id="状态转移方程-2"><a href="#状态转移方程-2" class="headerlink" title="状态转移方程"></a>状态转移方程</h4><p>我们通过观察可以发现，当<code>word1[i] == word2[j]</code>时，<code>dp[i][j] = dp[i - 1][j - 1]</code>，其他情况时，<code>dp[i][j]</code>是其左，左上，上的三个值中的最小值加1，其实这里的左，上，和左上，分别对应的增加，删除，修改操作那么可以得到状态转移方程:</p>
<script type="math/tex; mode=display">dp[i][j] =\begin{cases}dp[i - 1][j-1] &  if\ word1[i-1]=word2[j-1]\\min(dp[i - 1][j - 1], min(dp[i - 1][j], dp[i][j - 1])) + 1 & else\end{cases}</script><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  Ø a b c d</span><br><span class="line">Ø <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span></span><br><span class="line">b <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line">b <span class="number">2</span> <span class="number">2</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line">c <span class="number">3</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>
<h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDistance</span><span class="params">(String word1, String word2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m =word1.length();</span><br><span class="line">        <span class="keyword">int</span> n = word2.length();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[m+<span class="number">1</span>][n+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++) &#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++) &#123;</span><br><span class="line">            dp[<span class="number">0</span>][j] =j;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i =<span class="number">1</span>; i&lt;=m;i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (word1.charAt(i-<span class="number">1</span>) == word2.charAt(j-<span class="number">1</span>)) &#123;</span><br><span class="line">                    dp[i][j] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>];</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    dp[i][j] = Math.min(dp[i-<span class="number">1</span>][j-<span class="number">1</span>],Math.min(dp[i-<span class="number">1</span>][j],dp[i][j-<span class="number">1</span>]))+<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[m][n];</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="线性结构上的动态规划"><a href="#线性结构上的动态规划" class="headerlink" title="线性结构上的动态规划"></a>线性结构上的动态规划</h2><h3 id="Decode-Ways"><a href="#Decode-Ways" class="headerlink" title="Decode Ways"></a>Decode Ways</h3><p><a href="https://leetcode.com/problems/decode-ways/" target="_blank" rel="noopener">91. Decode Ways</a></p>
<p>这道题代码非常直观，遍历一遍String，每次分别取一个和两个数字组成两个数，只要在合法区间内，我们便继承之前的数量。因为一直只用到之前两个数字的缘故，我们可以优化成三个变量而不需要数组，具体的方式见如下代码和测试结果。</p>
<p><img src="/2019/06/LeetCode中的DynamicProgramming/91.png" alt="91"></p>
<p><img src="/2019/06/LeetCode中的DynamicProgramming/91-test结果.png" alt="91-test结果"></p>
<h4 id="标准dp代码"><a href="#标准dp代码" class="headerlink" title="标准dp代码"></a>标准dp代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numDecodings</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[s.length()+<span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        dp[<span class="number">1</span>] = s.charAt(<span class="number">0</span>) == <span class="string">'0'</span> ? <span class="number">0</span> : <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i =<span class="number">2</span>; i&lt;=s.length(); i++) &#123;</span><br><span class="line">            Integer first = Integer.valueOf(s.substring(i-<span class="number">1</span>,i));</span><br><span class="line">            Integer second = Integer.valueOf(s.substring(i-<span class="number">2</span>,i));</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (first &gt;=<span class="number">1</span> &amp;&amp; first &lt;=<span class="number">9</span>) &#123;</span><br><span class="line">                dp[i] += dp[i-<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (second &gt;=<span class="number">10</span> &amp;&amp; second &lt;=<span class="number">26</span>) &#123;</span><br><span class="line">                dp[i] += dp[i-<span class="number">2</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[s.length()];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="优化后代码"><a href="#优化后代码" class="headerlink" title="优化后代码"></a>优化后代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numDecodings</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = s.length();</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span> || s.charAt(<span class="number">0</span>) == <span class="string">'0'</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i =<span class="number">1</span>; i&lt;s.length(); i++) &#123;</span><br><span class="line">             System.out.print(<span class="string">"第"</span>+i+<span class="string">"轮:"</span>+<span class="string">" "</span>);</span><br><span class="line">            c = <span class="number">0</span>;</span><br><span class="line">            Integer first = Integer.valueOf(s.charAt(i)-<span class="string">'0'</span>);</span><br><span class="line">            Integer second = Integer.valueOf(s.substring(i-<span class="number">1</span>,i+<span class="number">1</span>));</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (first &gt;=<span class="number">1</span> &amp;&amp; first &lt;=<span class="number">9</span>) &#123;</span><br><span class="line">                  c +=a;</span><br><span class="line">                </span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (second &gt;=<span class="number">10</span> &amp;&amp; second &lt;=<span class="number">26</span>) &#123;</span><br><span class="line">                c += b;</span><br><span class="line">            &#125;</span><br><span class="line">             </span><br><span class="line">            b = a;</span><br><span class="line">            System.out.print(<span class="string">"c"</span>+<span class="string">" "</span>+c+<span class="string">" "</span>);</span><br><span class="line">            System.out.print(<span class="string">"b"</span>+<span class="string">" "</span>+b+<span class="string">" "</span>);</span><br><span class="line">            </span><br><span class="line">            a = c;</span><br><span class="line">            System.out.println(<span class="string">"a"</span>+<span class="string">" "</span>+a);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>  c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Paint-Fence"><a href="#Paint-Fence" class="headerlink" title="Paint Fence"></a>Paint Fence</h3><p><a href="https://leetcode.com/problems/paint-fence/" target="_blank" rel="noopener">276. Paint Fence</a></p>
<p><a href="https://www.youtube.com/watch?v=deh7UpSRaEY" target="_blank" rel="noopener">油管上非常详细的讲解视频</a></p>
<p><strong>代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numWays</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> k;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> same = k;</span><br><span class="line">        <span class="keyword">int</span> diff = k*(k-<span class="number">1</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i&lt;n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> temp = diff;</span><br><span class="line">            diff = (same + diff) * (k-<span class="number">1</span>);</span><br><span class="line">            same = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> same + diff;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="House-Robber系列"><a href="#House-Robber系列" class="headerlink" title="House Robber系列"></a>House Robber系列</h3><h4 id="House-Robber"><a href="#House-Robber" class="headerlink" title="House Robber"></a>House Robber</h4><p><a href="https://leetcode.com/problems/house-robber/" target="_blank" rel="noopener">198. House Robber</a></p>
<p>太简单了，略了。</p>
<p><strong>代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rob</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">int</span> temp = a;</span><br><span class="line">            a = Math.max(a,num+b);</span><br><span class="line">            b = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> Math.max(a,b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="House-Robber-II"><a href="#House-Robber-II" class="headerlink" title="House Robber II"></a>House Robber II</h4><p><a href="https://leetcode.com/problems/house-robber-ii/" target="_blank" rel="noopener">213.House Robber II</a></p>
<p>和1的差别在于，这里将数组的头尾相连了，所以有个非常简单的办法就是call两个helper function，分别是取头不取尾，或者取尾不取头，然后两者择其大就行了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rob</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length ==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums.length ==<span class="number">1</span>) <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">return</span> Math.max(helper(nums,<span class="number">0</span>,nums.length-<span class="number">2</span>),helper(nums,<span class="number">1</span>,nums.length-<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">helper</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i&lt;=end;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = a;</span><br><span class="line">             a = Math.max(a,b+nums[i]);</span><br><span class="line">            b = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Math.max(a,b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Paint-House系列"><a href="#Paint-House系列" class="headerlink" title="Paint House系列"></a>Paint House系列</h3><h4 id="Paint-House"><a href="#Paint-House" class="headerlink" title="Paint House"></a>Paint House</h4><p><a href="https://leetcode.com/problems/paint-house/" target="_blank" rel="noopener">256. Paint House</a></p>
<p><strong>代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minCost</span><span class="params">(<span class="keyword">int</span>[][] costs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(costs == <span class="keyword">null</span> || costs.length==<span class="number">0</span> || costs[<span class="number">0</span>].length ==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i =<span class="number">1</span>; i&lt;costs.length; i++) &#123;</span><br><span class="line">            costs[i][<span class="number">0</span>] = Math.min(costs[i-<span class="number">1</span>][<span class="number">1</span>],costs[i-<span class="number">1</span>][<span class="number">2</span>]) + costs[i][<span class="number">0</span>];</span><br><span class="line">            costs[i][<span class="number">1</span>] = Math.min(costs[i-<span class="number">1</span>][<span class="number">0</span>],costs[i-<span class="number">1</span>][<span class="number">2</span>]) + costs[i][<span class="number">1</span>];</span><br><span class="line">            costs[i][<span class="number">2</span>] = Math.min(costs[i-<span class="number">1</span>][<span class="number">1</span>],costs[i-<span class="number">1</span>][<span class="number">0</span>]) + costs[i][<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> len = costs.length;</span><br><span class="line">       <span class="keyword">return</span> Math.min(costs[len-<span class="number">1</span>][<span class="number">0</span>],Math.min(costs[len-<span class="number">1</span>][<span class="number">1</span>],costs[len-<span class="number">1</span>][<span class="number">2</span>]));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Paint-House-II"><a href="#Paint-House-II" class="headerlink" title="Paint House II"></a>Paint House II</h4><p><a href="https://leetcode.com/problems/paint-house-ii/" target="_blank" rel="noopener">265. Paint House II</a></p>
<p><a href="https://leetcode.com/problems/paint-house-ii/discuss/69492/AC-Java-solution-without-extra-space" target="_blank" rel="noopener">以下是leetCode高票答案给出的解释</a></p>
<p>The idea is similar to the problem Paint House I, for each house and each color, the minimum cost of painting the house with that color should be the minimum cost of painting previous houses, and make sure the previous house doesn’t paint with the same color.</p>
<p>We can use min1 and min2 to track the indices of the 1st and 2nd smallest cost till previous house, if the current color’s index is same as min1, then we have to go with min2, otherwise we can safely go with min1.</p>
<p>The code below modifies the value of costs[][] so we don’t need extra space.</p>
<p><strong>代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minCostII</span><span class="params">(<span class="keyword">int</span>[][] costs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (costs == <span class="keyword">null</span> || costs.length ==<span class="number">0</span> || costs[<span class="number">0</span>].length ==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> m = costs.length;</span><br><span class="line">        <span class="keyword">int</span> n = costs[<span class="number">0</span>].length;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> min1 = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> min2 = -<span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i =<span class="number">0</span>; i&lt;m;i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> first = min1;</span><br><span class="line">            <span class="keyword">int</span> second = min2;</span><br><span class="line">            min1= -<span class="number">1</span>;</span><br><span class="line">            min2 = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j&lt;n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j!=first) &#123;</span><br><span class="line">                    costs[i][j] += first &lt; <span class="number">0</span>? <span class="number">0</span> : costs[i-<span class="number">1</span>][first];</span><br><span class="line">                    </span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    costs[i][j] += second &lt; <span class="number">0</span>? <span class="number">0</span> : costs[i-<span class="number">1</span>][second];</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> (min1 &lt; <span class="number">0</span> || costs[i][j] &lt; costs[i][min1]) &#123;</span><br><span class="line">                    min2 = min1;</span><br><span class="line">                    min1 = j;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(min2 &lt; <span class="number">0</span> || costs[i][j] &lt; costs[i][min2])&#123;</span><br><span class="line">                    min2 = j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> costs[m-<span class="number">1</span>][min1];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Coin-Change"><a href="#Coin-Change" class="headerlink" title="Coin Change"></a>Coin Change</h3><p><a href="https://leetcode.com/problems/coin-change/" target="_blank" rel="noopener">322. Coin Change</a></p>
<p><a href="https://www.cnblogs.com/grandyang/p/5138186.html" target="_blank" rel="noopener">一个比较好的解释</a></p>
<p>将<code>dp[i]</code>设置为达到<code>i</code>所需要的硬币这个设置的方式在leetcode差不多三四道题目有用到，需要注意一下。</p>
<p>这道题的状态转移方程是：$dp[i] = min(dp[i], dp[i - coins[j]] + 1)$</p>
<p>特别要注意的地方是这句判断语句:<code>dp[i] = res ==Integer.MAX_VALUE? -1 : res;</code>如果没有找到可以凑的就设置成-1。</p>
<p><strong>DP代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">coinChange</span><span class="params">(<span class="keyword">int</span>[] coins, <span class="keyword">int</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (amount == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (coins == <span class="keyword">null</span> || coins.length ==<span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[amount+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= amount; i++) &#123;</span><br><span class="line">           <span class="keyword">int</span>  res = Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c : coins) &#123;</span><br><span class="line">                <span class="keyword">if</span> ((i-c &gt;=<span class="number">0</span> ) &amp;&amp; dp[i-c]!=-<span class="number">1</span>) &#123;</span><br><span class="line">                    res = Math.min(res,dp[i-c]+<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            dp[i] = res ==Integer.MAX_VALUE? -<span class="number">1</span> : res;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[amount];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Memorization递归代码</strong></p>
<p>一定要注意，这里的判断语句只能是不为0，不能是大于0，<code>if(dp[amount-1] != 0) return dp[amount-1];</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">coinChange</span><span class="params">(<span class="keyword">int</span>[] coins, <span class="keyword">int</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (amount &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> helper(coins,amount,<span class="keyword">new</span> <span class="keyword">int</span>[amount]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">helper</span> <span class="params">(<span class="keyword">int</span>[] coins, <span class="keyword">int</span> amount, <span class="keyword">int</span>[] dp)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(amount &lt; <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(amount ==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(dp[amount-<span class="number">1</span>] != <span class="number">0</span>) <span class="keyword">return</span> dp[amount-<span class="number">1</span>];</span><br><span class="line">        </span><br><span class="line">     </span><br><span class="line">            <span class="keyword">int</span> res = Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c : coins) &#123;</span><br><span class="line">                <span class="keyword">if</span> (helper(coins,amount-c,dp)&gt;=<span class="number">0</span>) &#123;</span><br><span class="line">                    res = Math.min(res,helper(coins,amount-c,dp)+<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        dp[amount-<span class="number">1</span>] = res==Integer.MAX_VALUE? -<span class="number">1</span> : res;</span><br><span class="line">        <span class="keyword">return</span> dp[amount-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="股票系列"><a href="#股票系列" class="headerlink" title="股票系列"></a>股票系列</h3><p><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/discuss/108870/Most-consistent-ways-of-dealing-with-the-series-of-stock-problems" target="_blank" rel="noopener">@fun4LeetCode的总结</a></p>
<h4 id="Best-Time-to-Buy-and-Sell-Stock"><a href="#Best-Time-to-Buy-and-Sell-Stock" class="headerlink" title="Best Time to Buy and Sell Stock"></a>Best Time to Buy and Sell Stock</h4><p><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock/#/description" target="_blank" rel="noopener">121. Best Time to Buy and Sell Stock</a></p>
<p>常规的做法都可以做，但在这里最好掌握一下<strong>Kadane’s Algorithm</strong>。</p>
<blockquote>
<p><em>maxCur = current maximum value
</em>maxSoFar = maximum value found so far</p>
</blockquote>
<p>A more clear explanation on why sum of subarray works.:</p>
<p>Suppose we have original array:<br>[a0, a1, a2, a3, a4, a5, a6]</p>
<p>what we are given here(or we calculate ourselves) is:<br>[b0, b1, b2, b3, b4, b5, b6]</p>
<p>where,<br>b[i] = 0, when i == 0<br>b[i] = a[i] - a[i - 1], when i != 0</p>
<p>suppose if a2 and a6 are the points that give us the max difference (a2 &lt; a6)<br>then in our given array, we need to find the sum of sub array from b3 to b6.</p>
<p>b3 = a3 - a2<br>b4 = a4 - a3<br>b5 = a5 - a4<br>b6 = a6 - a5</p>
<p>adding all these, all the middle terms will cancel out except two<br>i.e.</p>
<p>b3 + b4 + b5 + b6 = a6 - a2</p>
<p>a6 - a2 is the required solution.</p>
<p>so we need to find the largest sub array sum to get the most profit</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> temp = prices[i] - prices[i-<span class="number">1</span>];      <span class="comment">//temp is b[i]</span></span><br><span class="line">maxCur +=temp;                          <span class="comment">//maxCur += is ..... b3 + b4 + b5 + b6</span></span><br><span class="line">maxCur = Math.max(<span class="number">0</span>, maxCur);         <span class="comment">// no point to aggregate for lower b(s), so discard it until that b[i] once it gets less</span></span><br></pre></td></tr></table></figure>
<p><strong>代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> maxCur = <span class="number">0</span>, maxSoFar = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class="line">        maxCur = Math.max(<span class="number">0</span>, maxCur += prices[i] - prices[i-<span class="number">1</span>]);</span><br><span class="line">        maxSoFar = Math.max(maxCur, maxSoFar);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxSoFar;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Best-Time-to-Buy-and-Sell-Stock-II"><a href="#Best-Time-to-Buy-and-Sell-Stock-II" class="headerlink" title="Best Time to Buy and Sell Stock II"></a>Best Time to Buy and Sell Stock II</h4><p><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii/#/description" target="_blank" rel="noopener">122. Best Time to Buy and Sell Stock II</a></p>
<p><strong>Kadane’s Algorithm</strong></p>
<p>这题只要在上一题的基础上稍加改动就行了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> loc = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> glo = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class="line">            loc = Math.max(<span class="number">0</span>,prices[i] - prices[i - <span class="number">1</span>]);</span><br><span class="line">            glo += loc;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> glo;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Best-Time-to-Buy-and-Sell-Stock-III"><a href="#Best-Time-to-Buy-and-Sell-Stock-III" class="headerlink" title="Best Time to Buy and Sell Stock III"></a>Best Time to Buy and Sell Stock III</h4><p><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iii/#/description" target="_blank" rel="noopener">123. Best Time to Buy and Sell Stock III</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> twob = Integer.MIN_VALUE;</span><br><span class="line">        <span class="keyword">int</span> oneb = Integer.MIN_VALUE;</span><br><span class="line">        <span class="keyword">int</span> twos = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> ones = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>  p : prices) &#123;</span><br><span class="line">            twos = Math.max(twos, p + twob);</span><br><span class="line">            twob = Math.max(twob, ones - p);</span><br><span class="line">            ones = Math.max(ones, p + oneb);</span><br><span class="line">            oneb = Math.max(oneb, -p);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> twos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Best-Time-to-Buy-and-Sell-Stock-IV"><a href="#Best-Time-to-Buy-and-Sell-Stock-IV" class="headerlink" title="Best Time to Buy and Sell Stock IV"></a>Best Time to Buy and Sell Stock IV</h4><p><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/#/description" target="_blank" rel="noopener">188. Best Time to Buy and Sell Stock IV</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dp[i][j] = maximum profit from at most i transactions using prices[0..j]</span><br></pre></td></tr></table></figure>
<p>A transaction is defined as one buy + sell.</p>
<p>Now on day j, we have two options</p>
<ol>
<li>Do nothing (or buy) which doesn’t change the acquired profit : <code>dp[i][j] = dp[i][j-1]</code></li>
<li>Sell the stock: In order to sell the stock, you must’ve bought it on a day <code>t=[0..j-1]</code>. Maximum profit that can be attained is <code>t:0-&gt;j-1 max(prices[j]-prices[t]+dp[i-1][t-1])</code> where <code>prices[j]-prices[t]</code> is the profit from buying on day <code>t</code> and selling on day <code>j</code>. <code>dp[i-1][t-1]</code> is the maximum profit that can be made with at most <code>i-1</code>transactions with prices <code>prices[0..t-1]</code>.</li>
</ol>
<p>Time complexity of this approach is $O(n^2k)$.</p>
<p>In order to reduce it to$ O(nk)$, we must find <code>t:0-&gt;j-1 max(prices[j]-prices[t]+dp[i-1][t-1])</code> this expression in constant time. If you see carefully,</p>
<p><code>t:0-&gt;j-1 max(prices[j]-prices[t]+dp[i-1][t-1])</code> is same as</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prices[j] + t:0-&gt;j-1 max(dp[i-1][t-1]-prices[t])</span><br></pre></td></tr></table></figure>
<p>Second part of the above expression <code>maxTemp = t:0-&gt;j-1 max(dp[i-1][t-1]-prices[t])</code> can be included in the dp loop by keeping track of the maximum value till <code>j-1</code>.</p>
<p>Base case:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dp[0][j] = 0; dp[i][0] = 0</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span>[] prices)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = prices.length;</span><br><span class="line">        <span class="keyword">if</span> (k &gt;= len / <span class="number">2</span>) <span class="keyword">return</span> helper(prices);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[k + <span class="number">1</span>][len];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> max = -prices[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">                dp[i][j] = Math.max(dp[i][j - <span class="number">1</span>], prices[j] + max);</span><br><span class="line">                max = Math.max(max,dp[i - <span class="number">1</span>][j] - prices[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[k][len - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">helper</span> <span class="params">(<span class="keyword">int</span>[] prices)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (prices[i] &gt; prices[i - <span class="number">1</span>]) res += prices[i] - prices[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Best-Time-to-Buy-and-Sell-Stock-with-Cooldown"><a href="#Best-Time-to-Buy-and-Sell-Stock-with-Cooldown" class="headerlink" title="Best Time to Buy and Sell Stock with Cooldown"></a>Best Time to Buy and Sell Stock with Cooldown</h4><p><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/#/description" target="_blank" rel="noopener">309. Best Time to Buy and Sell Stock with Cooldown</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tik0 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> tik0pre = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> tik1 = Integer.MIN_VALUE;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> p : prices) &#123;</span><br><span class="line">            <span class="keyword">int</span> old = tik0;</span><br><span class="line">            tik0 = Math.max(tik0, tik1 + p);</span><br><span class="line">            tik1 = Math.max(tik1, tik0pre - p);</span><br><span class="line">            tik0pre = old;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tik0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Best-Time-to-Buy-and-Sell-Stock-with-Transaction-Fee"><a href="#Best-Time-to-Buy-and-Sell-Stock-with-Transaction-Fee" class="headerlink" title="Best Time to Buy and Sell Stock with Transaction Fee"></a>Best Time to Buy and Sell Stock with Transaction Fee</h4><p><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/description/" target="_blank" rel="noopener">714. Best Time to Buy and Sell Stock with Transaction Fee</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices, <span class="keyword">int</span> fee)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tik0 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> tik1 = -Integer.MIN_VALUE;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> p : prices) &#123;</span><br><span class="line">            <span class="keyword">int</span> old = tik0;</span><br><span class="line">            tik0 = Math.max(tik0,tik1 + p);</span><br><span class="line">            tik1 = Math.max(tik1,old - p - fee);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tik0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="二维数组动态规划"><a href="#二维数组动态规划" class="headerlink" title="二维数组动态规划"></a>二维数组动态规划</h2><h3 id="Maximal-Square"><a href="#Maximal-Square" class="headerlink" title="Maximal Square"></a>Maximal Square</h3><p><a href="https://leetcode.com/problems/maximal-square/" target="_blank" rel="noopener">221. Maximal Square</a></p>
<p><a href="https://leetcode.com/problems/maximal-square/discuss/61802/Extremely-Simple-Java-Solution-%3A" target="_blank" rel="noopener">高票答案里一个非常直观的解释</a></p>
<p><code>dp[i][j]</code>代表在以<code>i, j</code>这一格为右下角的正方形边长。<br>如果这一格的值也是<code>1</code>，那这个正方形的边长就是他的上面，左手边，和斜上的值的最小边长 +1。因为如果有一边短了缺了，都构成不了正方形。</p>
<p><img src="/2019/06/LeetCode中的DynamicProgramming/221. Maximal Square.jpg" alt="221. Maximal Square"></p>
<p><strong>代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximalSquare</span><span class="params">(<span class="keyword">char</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length ==<span class="number">0</span> || matrix[<span class="number">0</span>].length ==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[matrix.length+<span class="number">1</span>][matrix[<span class="number">0</span>].length+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;= matrix.length;i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=matrix[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (matrix[i-<span class="number">1</span>][j-<span class="number">1</span>] ==<span class="string">'1'</span>) &#123;</span><br><span class="line">                    dp[i][j] = Math.min(dp[i-<span class="number">1</span>][j-<span class="number">1</span>],Math.min(dp[i-<span class="number">1</span>][j],dp[i][j-<span class="number">1</span>]))+<span class="number">1</span>;</span><br><span class="line">                    res = Math.max(res,dp[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res*res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Dungeon-Game"><a href="#Dungeon-Game" class="headerlink" title="Dungeon Game"></a>Dungeon Game</h3><p><a href="https://leetcode.com/problems/dungeon-game/" target="_blank" rel="noopener">174. Dungeon Game</a></p>
<p>这一题最精华的地方在于，从重点倒推，我们所需要最少的血量是救完公主之后剩下1滴血就可以了。</p>
<p>然后在每一格我们也只需要保证搏斗完我们还至少有一格血进入下一个格子。</p>
<h4 id="初始状态-2"><a href="#初始状态-2" class="headerlink" title="初始状态"></a>初始状态</h4><p>因为只能向下和向右走，所以我们只需要初始化最后一行和最后一列。</p>
<p><img src="/2019/06/LeetCode中的DynamicProgramming/174.png" alt="174"></p>
<h4 id="状态转移方程-3"><a href="#状态转移方程-3" class="headerlink" title="状态转移方程"></a>状态转移方程</h4><script type="math/tex; mode=display">down = Max(dp[i+1][j] - dungeon[i][j],1)</script><script type="math/tex; mode=display">right = Max(dp[i][j+1]-dungeon[i][j],1);</script><script type="math/tex; mode=display">Min(down,right)</script><h4 id="自下而上的DP代码-1"><a href="#自下而上的DP代码-1" class="headerlink" title="自下而上的DP代码"></a>自下而上的DP代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculateMinimumHP</span><span class="params">(<span class="keyword">int</span>[][] dungeon)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = dungeon.length;</span><br><span class="line">        <span class="keyword">int</span> n = dungeon[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">if</span> (dungeon == <span class="keyword">null</span> || dungeon.length ==<span class="number">0</span> || dungeon[<span class="number">0</span>].length ==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[dungeon.length][dungeon[<span class="number">0</span>].length];</span><br><span class="line">        </span><br><span class="line">        dp[dungeon.length-<span class="number">1</span>][dungeon[<span class="number">0</span>].length-<span class="number">1</span>] = Math.max(<span class="number">1</span>-dungeon[dungeon.length-<span class="number">1</span>][dungeon[<span class="number">0</span>].length-<span class="number">1</span>],<span class="number">1</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = dungeon.length -<span class="number">2</span>; i&gt;=<span class="number">0</span>;i--) &#123;</span><br><span class="line">            dp[i][dungeon[<span class="number">0</span>].length-<span class="number">1</span>]=Math.max(dp[i+<span class="number">1</span>][dungeon[<span class="number">0</span>].length-<span class="number">1</span>]-dungeon[i][dungeon[<span class="number">0</span>].length-<span class="number">1</span>],<span class="number">1</span>);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = dungeon[<span class="number">0</span>].length-<span class="number">2</span>; j&gt;=<span class="number">0</span>;j--) &#123;</span><br><span class="line">            dp[dungeon.length-<span class="number">1</span>][j] = Math.max(dp[dungeon.length-<span class="number">1</span>][j+<span class="number">1</span>]-dungeon[dungeon.length-<span class="number">1</span>][j],<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = dungeon.length -<span class="number">2</span>; i&gt;=<span class="number">0</span>;i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = dungeon[<span class="number">0</span>].length-<span class="number">2</span>; j&gt;=<span class="number">0</span>;j--) &#123;</span><br><span class="line">                <span class="keyword">int</span> right = Math.max(dp[i+<span class="number">1</span>][j]-dungeon[i][j],<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">int</span> left = Math.max(dp[i][j+<span class="number">1</span>]-dungeon[i][j],<span class="number">1</span>);</span><br><span class="line">                dp[i][j] = Math.min(right,left);</span><br><span class="line">    &#125;</span><br><span class="line">      &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Minimum-Path-Sum"><a href="#Minimum-Path-Sum" class="headerlink" title="Minimum Path Sum"></a>Minimum Path Sum</h3><p><a href="https://leetcode.com/problems/minimum-path-sum/" target="_blank" rel="noopener">64. Minimum Path Sum</a></p>
<p><strong>代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minPathSum</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = grid.length;</span><br><span class="line">        <span class="keyword">int</span> n = grid[<span class="number">0</span>].length;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span>[][] dp =<span class="keyword">new</span> <span class="keyword">int</span>[m][n];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i =<span class="number">0</span>; i&lt;m;i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(i==<span class="number">0</span> &amp;&amp; j!=<span class="number">0</span>) &#123;</span><br><span class="line">                    dp[i][j] = dp[i][j-<span class="number">1</span>] + grid[i][j];</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i!=<span class="number">0</span> &amp;&amp; j==<span class="number">0</span>)&#123;</span><br><span class="line">                    dp[i][j] = dp[i-<span class="number">1</span>][j] + grid[i][j];</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i==<span class="number">0</span> &amp;&amp; j==<span class="number">0</span>) &#123;</span><br><span class="line">                    dp[i][j] = grid[i][j];</span><br><span class="line">                &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                    dp[i][j] = Math.min(dp[i-<span class="number">1</span>][j],dp[i][j-<span class="number">1</span>]) + grid[i][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[m-<span class="number">1</span>][n-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="复杂难题"><a href="#复杂难题" class="headerlink" title="复杂难题"></a>复杂难题</h2><h3 id="Minimax极小化极大算法"><a href="#Minimax极小化极大算法" class="headerlink" title="Minimax极小化极大算法"></a>Minimax极小化极大算法</h3><p><a href="https://leetcode.com/problems/guess-number-higher-or-lower-ii/" target="_blank" rel="noopener">375. Guess Number Higher or Lower II</a></p>
<p><a href="https://univasity.iteye.com/blog/1170216" target="_blank" rel="noopener">这里是Minimax极小化极大算法的简介</a></p>
<p><code>dp[i][j]</code>在这里代表的是，区间<code>i</code>到<code>j</code>之间，我们的最佳策略是什么，我们需要遍历<code>i</code>到<code>j</code>中的每个数字<code>k</code>，计算当我们pick<code>k</code>的时候我们最大可能的损失是多少，然后在所有的<code>k</code>里pick最小的那个。</p>
<h4 id="初始状态-3"><a href="#初始状态-3" class="headerlink" title="初始状态"></a>初始状态</h4><p>当我们只有一个数字的时候，我们一定会猜这个数字本身，所以这个时候cost是0。</p>
<p>当我们有两个数字的时候，我们会直接猜比较小的那个，所以就有了迭代写法中的那句判断语句：<code>dp[i][j] = i+1 == j? i :localMin;</code></p>
<p><img src="/2019/06/LeetCode中的DynamicProgramming/375.png" alt="初始状态"></p>
<p><img src="/2019/06/LeetCode中的DynamicProgramming/相邻数字.png" alt="相邻数字"></p>
<h4 id="状态转移方程-4"><a href="#状态转移方程-4" class="headerlink" title="状态转移方程"></a>状态转移方程</h4><script type="math/tex; mode=display">cost(i,j)=k+max(cost(i,k−1),cost(k+1,n))</script><script type="math/tex; mode=display">dp(i,j)=\min _{k(i,j)}[k+max(dp(i,k−1),dp(k+1,n))]</script><p><img src="/2019/06/LeetCode中的DynamicProgramming/lvlv.png" alt="example"></p>
<h4 id="Memorization递归代码"><a href="#Memorization递归代码" class="headerlink" title="Memorization递归代码"></a>Memorization递归代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMoneyAmount</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>][n+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">return</span> helper(dp,<span class="number">1</span>,n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">helper</span><span class="params">(<span class="keyword">int</span>[][] dp, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (start&gt;=end) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (dp[start][end]!=<span class="number">0</span>) <span class="keyword">return</span> dp[start][end];</span><br><span class="line">        <span class="keyword">int</span> min=Integer.MAX_VALUE;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i&lt;=end; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> max = Math.max(helper(dp,start,i-<span class="number">1</span>),helper(dp,i+<span class="number">1</span>,end))+i;</span><br><span class="line">            min = Math.min(min,max);</span><br><span class="line">        &#125;</span><br><span class="line">        dp[start][end] = min;</span><br><span class="line">        <span class="keyword">return</span> dp[start][end];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="DP代码-1"><a href="#DP代码-1" class="headerlink" title="DP代码"></a>DP代码</h4><p>这个代码特别要注意，<code>j</code>,<code>i</code>和<code>k</code>是如何遍历的，还有最后返回值是<code>dp[1][n]</code>，不能想当然就从第一个开始遍历，要从叶子结点，也就是<code>dp[1][2]</code>相邻点开始，如果写着有困难，就回想一下我们填表的顺序是什么样子的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMoneyAmount</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>][n+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">2</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = j-<span class="number">1</span>; i&gt;<span class="number">0</span>; i--) &#123;</span><br><span class="line">                 <span class="keyword">int</span> localMin = Integer.MAX_VALUE;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = i+<span class="number">1</span>;k&lt;j;k++) &#123;</span><br><span class="line">                    localMin = Math.min(localMin,Math.max(dp[i][k-<span class="number">1</span>],dp[k+<span class="number">1</span>][j])+k);</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                dp[i][j] = i+<span class="number">1</span> == j? i :localMin;</span><br><span class="line">            &#125;         </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">1</span>][n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="时间复杂度分析"><a href="#时间复杂度分析" class="headerlink" title="时间复杂度分析"></a>时间复杂度分析</h4><p><strong>DP</strong></p>
<ul>
<li>Time complexity : $O(n^3)$. We traverse the complete $dp$ matrix once$ O(n^2)$. For every entry we take atmost $n$ numbers as k.</li>
<li>Space complexity : $O(n^2)$. $dp$matrix of size $n^2$ is used.</li>
</ul>
<p><strong>Recursion</strong></p>
<ul>
<li>Time complexity : $O(n!)$. We choose a number as pivot and repeat the pivoting process further $n$ times . $O(n!)$We repeat the same process for $n$ k.</li>
<li>Space complexity : $O(n)$. Recursion of depth $n$ is used.</li>
</ul>
<h3 id="Burst-Balloons"><a href="#Burst-Balloons" class="headerlink" title="Burst Balloons"></a>Burst Balloons</h3><p><a href="https://leetcode.com/problems/burst-balloons/" target="_blank" rel="noopener">312. Burst Balloons</a></p>
<p><code>dp[i][j]</code>在这里代表的是打爆区间$ [i,j]$ 中的所有气球能得到的最多金币。</p>
<h4 id="初始状态-4"><a href="#初始状态-4" class="headerlink" title="初始状态"></a>初始状态</h4><ol>
<li>题目中说明了边界情况，当气球周围没有气球的时候，旁边的数字按 $1$ 算，这样我们可以在原数组两边各填充一个 $1$ 。</li>
</ol>
<p><img src="/2019/06/LeetCode中的DynamicProgramming/气球初始化.png" alt="气球初始化"></p>
<p>当只有<strong>一个气球</strong>的时候戳破它的收益就是它本身。</p>
<p><img src="/2019/06/LeetCode中的DynamicProgramming/气球初始化2.png" alt="初始化2"></p>
<h4 id="状态转移方程方程"><a href="#状态转移方程方程" class="headerlink" title="状态转移方程方程"></a>状态转移方程方程</h4><p>当有<strong>两个气球</strong>的时候，我们可以先打破<code>a</code>再打破<code>b</code>或者先打破<code>b</code>再打破<code>a</code>，那如果我们有三个，四个呢？所以这时候我们需要设置一个pivot<code>k</code>，它代表的是在区间<code>[i,j]</code>之间，它是最后被打破的气球。很容易可以想到，我们要计算的是子问题<code>dp[i][k-1]</code>加上<code>dp[k+1][j]</code>问题是，最后剩下一个气球<code>k</code>怎么办？</p>
<p><img src="/2019/06/LeetCode中的DynamicProgramming/屏幕快照 2019-06-08 上午11.50.57.png" alt="气球排列"></p>
<p>注意它相邻的两个气球是<code>i-1</code>和<code>j+1</code>。</p>
<p>于是，我们便可以写出状态转移方程式：</p>
<script type="math/tex; mode=display">bonus(i,j)=(i-1)*k*(j+1)+bonus(i,k−1)+bonus(k+1,n)</script><script type="math/tex; mode=display">dp(i,j)=\max _{k(i,j)}[dp(i,j),bonus(i,j)]</script><h4 id="DP代码-2"><a href="#DP代码-2" class="headerlink" title="DP代码"></a>DP代码</h4><p>注意遍历的边界。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxCoins</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] num = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length +<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">int</span> n = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x:nums) &#123;</span><br><span class="line">            num[n++] = x;</span><br><span class="line">        &#125;  </span><br><span class="line">     num[<span class="number">0</span>]=num[n++]=<span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> len = <span class="number">2</span>; len &lt;n; len ++) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> left = <span class="number">0</span>; left+len&lt;n;left++) &#123;</span><br><span class="line">            <span class="keyword">int</span> right= left + len;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = left+<span class="number">1</span>; k&lt;right;k++)&#123;</span><br><span class="line">                dp[left][right] = Math.max(dp[left][right],num[left]*num[k]*num[right]+dp[left][k]+dp[k][right]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">           &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>][n-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Memorization递归代码-1"><a href="#Memorization递归代码-1" class="headerlink" title="Memorization递归代码"></a>Memorization递归代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxCoins</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] num = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length +<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">int</span> n = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x:nums) &#123;</span><br><span class="line">            num[n++] = x;</span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">     num[<span class="number">0</span>]=num[n++]=<span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line">        <span class="keyword">return</span> helper(num,dp,<span class="number">1</span>,n-<span class="number">2</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">helper</span><span class="params">(<span class="keyword">int</span>[] num, <span class="keyword">int</span>[][] dp, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (start &gt; end) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (dp[start][end] &gt; <span class="number">0</span>) <span class="keyword">return</span> dp[start][end];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=start;i&lt;=end;i++) &#123;</span><br><span class="line">             dp[start][end] = Math.max(dp[start][end],helper(num,dp,start,i-<span class="number">1</span>)+helper(num,dp,i+<span class="number">1</span>,end)+num[start-<span class="number">1</span>]*num[end+<span class="number">1</span>]*num[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[start][end];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Max-Sum-of-Rectangle-No-Larger-Than-K"><a href="#Max-Sum-of-Rectangle-No-Larger-Than-K" class="headerlink" title="Max Sum of Rectangle No Larger Than K"></a>Max Sum of Rectangle No Larger Than K</h3><p><a href="https://leetcode.com/problems/max-sum-of-rectangle-no-larger-than-k/" target="_blank" rel="noopener">363. Max Sum of Rectangle No Larger Than K</a></p>
<p>我们将这道题拆分成两个子问题：</p>
<ol>
<li>根据列(或者行)枚举矩阵。</li>
<li><a href="https://www.programcreek.com/2016/08/maximum-sum-of-subarray-close-to-k/" target="_blank" rel="noopener">Maximum Sum of Subarray Close to K</a></li>
</ol>
<h4 id="Maximum-Sum-of-Subarray-Close-to-K"><a href="#Maximum-Sum-of-Subarray-Close-to-K" class="headerlink" title="Maximum Sum of Subarray Close to K"></a>Maximum Sum of Subarray Close to K</h4><p><img src="/2019/06/LeetCode中的DynamicProgramming/maximum-sum-of-subarray-close-to-k.png" alt="maximum-sum-of-subarray-close-to-k"></p>
<p><strong>TreeSet的应用：</strong></p>
<p>floor(E e) 方法返回在这个集合中<strong>小于或者等于</strong>给定元素的<strong>最大元素</strong>，如果不存在这样的元素,返回null.</p>
<p>ceiling(E e) 方法返回在这个集合中<strong>大于或者等于</strong>给定元素的<strong>最小元素</strong>，如果不存在这样的元素,返回null.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getLargestSumCloseToK</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    TreeSet&lt;Integer&gt; set = <span class="keyword">new</span> TreeSet&lt;Integer&gt;();</span><br><span class="line">    <span class="keyword">int</span> result=Integer.MIN_VALUE;</span><br><span class="line">    set.add(<span class="number">0</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;arr.length; i++)&#123;</span><br><span class="line">        sum=sum+arr[i];</span><br><span class="line"> </span><br><span class="line">        Integer ceiling = set.ceiling(sum-k);</span><br><span class="line">        <span class="keyword">if</span>(ceiling!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            result = Math.max(result, sum-ceiling);        </span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        set.add(sum);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a><strong>代码</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSumSubmatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length ==<span class="number">0</span> || matrix[<span class="number">0</span>].length ==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> row = matrix.length;</span><br><span class="line">        <span class="keyword">int</span> col = matrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> m = Math.min(row,col);</span><br><span class="line">        <span class="keyword">int</span> n = Math.max(row,col);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">boolean</span> isCol = col &gt; row;</span><br><span class="line">        <span class="keyword">int</span> res = Integer.MIN_VALUE;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j&gt;=<span class="number">0</span>;j--) &#123;</span><br><span class="line">                <span class="keyword">int</span> val =<span class="number">0</span>;</span><br><span class="line">                TreeSet&lt;Integer&gt;  set = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line">                set.add(<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k&lt;n; k++) &#123;</span><br><span class="line">                    array[k] += isCol ? matrix[j][k] : matrix[k][j];</span><br><span class="line">                    val += array [k];</span><br><span class="line">                </span><br><span class="line">                </span><br><span class="line">                Integer subset = set.ceiling(val - target);</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> (subset!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                    res = Math.max(res,val - subset);</span><br><span class="line">                &#125;</span><br><span class="line">                set.add(val);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Dubliner</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yoursite.com/2019/06/LeetCode中的DynamicProgramming/">http://yoursite.com/2019/06/LeetCode中的DynamicProgramming/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/LeetCode分类总结/">LeetCode分类总结</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2019/06/LeetCode中的Backtracking总结/"><i class="fa fa-chevron-left">  </i><span>LeetCode 中的 Backtracking 总结</span></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2019 By Dubliner</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script><!-- hexo-inject:begin --><!-- hexo-inject:end --></body></html>